/*
 * (@)# ASEDU72001.java
 *
 * Copyright KB Kookmin Bank Inc. All rights reserved.
 * PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 */

package com.kbstar.mbc.as.accountas;

import com.kbstar.mbc.pc.accountpc.PCAccount;
import com.kbstar.mbc.pc.dto.AccountPDTO;
import com.kbstar.ksa.exception.BusinessException;
import com.kbstar.ksa.infra.po.GenericDto;
import com.kbstar.ksa.infra.po.KBData;
import com.kbstar.ksa.logger.IKesaLogger;
import com.kbstar.ksa.logger.KesaLogHelper;
import com.kbstar.ksa.oltp.biz.IApplicationService;

/**
 * <br> [프로그램명] AS계좌조회
 * <br> [요약] 
 * <br> [상세설명] 
 * <br> [변경이력]
 * <ul>
 *   <li>2008-08-26::홍길동::신규작성
 * </ul>
 */
public class ASMBC72001 implements IApplicationService{
	
	protected IKesaLogger logger = KesaLogHelper.getBiz();

	/**
	 * <br> [오퍼레이션명] 계좌조회
	 * <br> [요약] 
	 * <br> [상세내용] 
	 * @param KBData
	 * <ul>
	 * <li> accountNumber //계좌번호
	 * </ul>
	 * @return KBData
	 * <ul>
	 * <li> accountNumber //계좌번호
	 * <li> name //이름
	 * <li> identificationNumber //주민번호
	 * <li> interestRate //이자율
	 * <li> lastTransaction //최종거래일
	 * <li> password //패스워드
	 * <li> netAmount //금액
	 * </ul>
	 */
	public KBData execute(KBData reqData) throws BusinessException {

		if(logger.isDebugEnabled())logger.debug(this.getClass().getName() + ", log test입니다.");
		// 1.AccountPDTO 생성
		AccountPDTO accountPDTO = reqData.getInputGenericDto()
					.using(GenericDto.INDATA).get(AccountPDTO.class);

		// 2.PC호출
		AccountPDTO resAccountPDTO = new PCAccount().getAccount(accountPDTO);
		
		// 3.결과를 OUTDATA에 set
		 reqData.getOutputGenericDto().using(GenericDto.OUTDATA).add(resAccountPDTO);
		return reqData;
	}

}

