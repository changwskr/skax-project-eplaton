<?xml version="1.0" encoding="euc-kr" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="user">

	<typeAlias alias="user" type="com.kbstar.mbc.dc.usermgtdc.User"/>
	<typeAlias alias="userddto" type="com.kbstar.mbc.dc.usermgtdc.dto.UserDDTO"/>		
	
		
	<select id="getListUser" parameterClass="userddto" resultClass="user">
		select 
			사용자ID as userID,
			사용자구분 as userDstcd,
			사용자명 as userName,
			사용자비밀번호 as userPwd,
			주민번호 as ssno,
			언어구분 as langDstcd,
			부서번호 as dvsnNo,
			부서명 as dvsnName,
			직급구분 as jobclDstcd,
			직급명 as jobclName,
			기관코드 as instiCd,
			기관명 as instiName,
			사용자전화번호 as telno,
			휴대폰번호 as cphnNo,
			이메일 as emad,
			팩스번호 as faxNo,
			생년월일 as brdt,
			주소 as addr,
			우편번호 as zip,
			이메일수신여부 as emalRecvYn,
			SMS수신여부 as sMSRecvYn,
			사용여부 as useYn,
			처리상태구분 as prcssStusDstcd,
			입사년월일 as entcoYmd,
			퇴직년월일 as rtireYmd,
			등록자ID as regsntID,
			등록년월일 as regiYmd,
			수정자ID as amndrID,
			수정년월일 as amndYmd
		from TMMBCCM01
		<dynamic prepend="where" >
			 <isNotEmpty property="userDstcd" prepend="AND">
			 	사용자구분 = #userDstcd#
			 </isNotEmpty>
			 <isNotEmpty property="userName" prepend="AND">
			 	사용자명 = #userName#
			 </isNotEmpty>
			 <isNotEmpty property="userID" prepend="AND">
			 	사용자ID = #userID#
			 </isNotEmpty>
			 <isNotEmpty property="dvsnName" prepend="AND">
			 	부서명 = #dvsnName#
			 </isNotEmpty>
			 <isNotEmpty property="useYn" prepend="AND">
			 	사용여부 = #useYn#
			 </isNotEmpty>
		</dynamic> 
	</select>				
			
	<insert id="insertUser" parameterClass="userddto">
		insert into TMMBCCM01(
			사용자ID,
			사용자구분,
			사용자명,
			사용자비밀번호,
			주민번호,
			언어구분,
			부서번호,
			부서명,
			직급구분,
			직급명,
			기관코드,
			기관명,
			사용자전화번호,
			휴대폰번호,
			이메일,
			팩스번호,
			생년월일,
			주소,
			우편번호,
			이메일수신여부,
			SMS수신여부,
			사용여부,
			처리상태구분,
			입사년월일,
			퇴직년월일,
			등록자ID,
			등록년월일,
			수정자ID,
			수정년월일
		) values (
			#userID#,                       
			#userDstcd#,             
			#userName#,              
			#userPwd#,       
			#ssno#,                  
			#langDstcd#,             
			#dvsnNo#,                
			#dvsnName#,      
			#jobclDstcd#,            
			#jobclName#,     
			#instiCd#,               
			#instiName#,     
			#telno#,         
			#cphnNo#,                
			#emad#,          
			#faxNo#,                 
			#brdt#,         	        
			#addr#,                  
			#zip#,                  
			#emalRecvYn#,    
			#smsRecvYn#,             
			#useYn#,                 
			#prcssStusDstcd#,        
			#entcoYmd#,              
			#rtireYmd#,              
			#regsntID#,              
			#regiYmd#,                 
			#amndrID#,               
			#amndYmd# 
		)
	</insert>
	
	
	
	<delete id="deleteUser" parameterClass="userddto">
		delete from TMMBCCM01
		where 사용자ID = #userID#
	</delete>
	
		
	
</sqlMap>